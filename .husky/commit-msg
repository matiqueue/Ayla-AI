#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Run commitlint to validate commit message
echo "Validating commit message format..."
npx --no -- commitlint --edit "${1}" || {
  echo "Commit message validation failed! Your commit message should follow the Conventional Commits format."
  echo "Examples of valid commit messages:"
  echo "  feat: add new feature"
  echo "  fix: correct network error"
  echo "  docs: update README"
  echo "  style: format code"
  echo "  refactor: restructure the login flow"
  echo "  test: add unit tests for API"
  echo "  chore: update dependencies"
  echo "For more details, see https://www.conventionalcommits.org/"
  exit 1
}
